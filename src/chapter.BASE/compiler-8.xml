<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<section role="compiler">
      <title>Compiler</title>
      <code-fragment id="base.methods"><code-title>Compile pairPos lookups</code-title>
  private Block baseCoordTableFromXML (Element t,
                                       Element base,
                                       Map&lt;Element, Block&gt; blockCache)
      throws InvalidFontException, UnsupportedFontException {

    { String name = t.getAttribute ("name");
      if (name != null &amp;&amp; ! "".equals (name)) {
        t = resolveXMLid (base, name); }}

    { Block cached = blockCache.get (t);
      if (cached != null) {
        return cached; }}

    String format = t.getAttribute ("format");
    Block me;

    if ("1".equals (format)) {
      me = baseCoordTableFormat1FromXML (t, base, blockCache); }
    else if ("2".equals (format)) {
      me = baseCoordTableFormat2FromXML (t, base, blockCache); }
    else if ("3".equals (format)) {
      me = baseCoordTableFormat3FromXML (t, base, blockCache); }
    else {
      /* cannot get here from a valid document */
      throw new InvalidFontException
                  ("invalid pair pos lookup format (" + format + ")"); }

    blockCache.put (t, me);
    return me;
  }
</code-fragment>
    </section>
    
