<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<section xmlns:aots="http://aots.adobe.com/2001/aots" role="test-suite">
      <title>Test Suite</title>
      <section>
        <title>gpos5_font1: basic tests</title>
        <para>Here is a simple test to start with:</para>
        <aots:test-font id="gpos5_font1">
          <base-font name="base.otf"/>
          <GDEF major="1" minor="0">
            <glyphClassDef format="any">
              <class classID="1" glyphs="17"/>
              <class classID="2" glyphs="18"/>
              <class classID="3" glyphs="19"/>
              <class classID="3" glyphs="20"/>
            </glyphClassDef>
          </GDEF>
          <GSUB major="1" minor="0">
            <code-include linkend="testfonts.gsub.scripts_features"/>
            <lookupList>
              <lookup id="lookup.test" type="4" ignoreMarks="yes">
                <ligatureSubst format="1">
                  <coverage glyphs="30" format="any"/>
                  <subst in="30 31" out="18"/>
                </ligatureSubst>
              </lookup>
            </lookupList>
          </GSUB>
          <GPOS major="1" minor="0">
            <code-include linkend="testfonts.gpos.scripts_features"/>
            <lookupList>
              <lookup id="lookup.test" type="5">
                <markToLigatureAttachment format="1">
                  <ligGlyph glyphID="18">
                    <ligComponent comp="0">
                      <ligAnchor class="0" format="1" x="100" y="150"/>
                    </ligComponent>
                    <ligComponent comp="1">
                      <ligAnchor class="0" format="1" x="101" y="151"/>
                    </ligComponent>
                  </ligGlyph>
                  <markGlyphAnchor glyphID="19" class="0" format="1" x="200" y="230"/>
                </markToLigatureAttachment>
              </lookup>
            </lookupList>
          </GPOS>
        </aots:test-font>
        <para>After execution, glyphs 30 and 31 are ligated into glyph 18; glyph 19 is attached to the first ligature component of 18 in the first test, and to the second component in the second test:</para>
        <aots:gpos-test id="gpos5_test1a" font="gpos5_font1" inputs="17,   30,   19,   31,   17" outputs="17,   18,   19,   17" attach="-1,   -1,    0,   -1" xdeltas=" 0,    0,-1600,    0" ydeltas=" 0,    0,  -80,    0"/>
        <aots:gpos-test id="gpos5_test1b" font="gpos5_font1" inputs="17,   30,   31,   19,  17" outputs="17,   18,   19,   17" attach="-1,   -1,    1,   -1" xdeltas=" 0,    0,-1599,    0" ydeltas=" 0,    0,  -79,    0"/>
        <!--

          <para>In this test, the base glyph for the mark is not covered:</para>

          <aots:gpos-test id='gpos4_test1b'
	  font='gpos4_font1'
	  script='latn' language='UNKN' features='test'>
            inputs= '17   17    19 17'
            xdeltas='0    0     0  0'
            ydeltas='0    0     0  0'

          </aots:gpos-test>

          <para>In this test, there is no base glyph at all:</para>

          <aots:gpos-test id='gpos4_test1c'
	  font='gpos4_font1'
	  script='latn' language='UNKN' features='test'>
            inputs= '25   25    19 17'
            xdeltas='0    0     0  0'
            ydeltas='0    0     0  0'

          </

          <para>Let's have two occurrences of 19 on the same
          base:</para>

          <aots:gpos-test id='gpos4_test1d'
	  font='gpos4_font1'
	  script='latn' language='UNKN' features='test'>
            inputs= '17   18    19   19  17'
            xdeltas='0    0  -100 -100   0'
            ydeltas='0    0   -80  -80   0'

          </
        </section>

        <section>
          <title>gpos4_font2: multiple anchors</title>

          <para>Here is a simple test to start with:</para>

<aots:test-font id='gpos4_font2'>
  <base-font name='base.otf'/>
  <GDEF major='1' minor='0'>
  <glyphClassdef>
    <class classID='1' glyphs='17'/>
    <class classID='1' glyphs='18'/>
    <class classID='3' glyphs='19'/>
    <class classID='3' glyphs='20'/>
    <class classID='3' glyphs='21'/>
    <class classID='3' glyphs='22'/>
  </glyphClassdef>
  </GDEF>
  <GPOS major='1' minor='0'>
    <code-include linkend='testfonts.gpos.scripts_features'/>
    <markBasePos id="lookup.test">
    <markBasePosFormat1>
      <baseGlyph glyphID='17'>
        <baseAnchor class='0' x='100' y='150'/>
        <baseAnchor class='1' x='110' y='160'/>
      </baseGlyph>
      <baseGlyph glyphID='18'>
        <baseAnchor class='0' x='120' y='170'/>
        <baseAnchor class='1' x='130' y='180'/>
      </baseGlyph>
      <markGlyph glyphID='19' class='0' x='200' y='230'/>
      <markGlyph glyphID='20' class='1' x='201' y='231'/>
      <markGlyph glyphID='21' class='0' x='202' y='232'/>
      <markGlyph glyphID='22' class='1' x='203' y='233'/>
    </markBasePosFormat1>
  </markBasePos>
  </GPOS>
</aots:test-font>

          <aots:gpos-test id='gpos4_test2a'
	  font='gpos4_font2'
	  script='latn' language='UNKN' features='test'>
            inputs= '17   19  20   21  22 18  19  20  21  22'
            xdeltas='0 -100 -91 -102 -93  0 -80 -71 -82 -73'
            ydeltas='0  -80 -71  -82 -73  0 -60 -51 -62 -53'

          </

-->
      </section>
    </section>
  
