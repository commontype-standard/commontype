<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<section role="compiler">
      <title>Compiler</title>
      <code-fragment id="lookuptable.methods"><code-title>Compile chainingContextualSubst lookups</code-title>
  protected Block chainingLookupFromXML (Element lookupSubtable,
                                         Element table,
                                         Map&lt;Element, Block&gt; blockCache,
					 Map&lt;String, Integer&gt; lookupIndices)
      throws InvalidFontException, UnsupportedFontException {

    String format = lookupSubtable.getAttribute ("format");
    if ("1".equals (format)) {
      return chainingLookupFormat1FromXML (lookupSubtable, table,
                                             blockCache, lookupIndices); }
    if ("2".equals (format)) {
      return chainingLookupFormat2FromXML (lookupSubtable, table,
                                             blockCache, lookupIndices); }
    if ("3".equals (format)) {
      return chainingLookupFormat3FromXML (lookupSubtable, table,
                                             blockCache, lookupIndices); }
    /* cannot get there with a valid document */
    throw new InvalidFontException
            ("invalid format for contextual chaining lookup (" + format + ")");
}
</code-fragment>
    </section>
    
