<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<section role="compiler">
      <title>Compiler</title>
      <code-fragment id="lookuptable.methods">
  private int subLookupsFromXML (int count, NodeList nl, Block b, int offset,
                                 Map&lt;String, Integer&gt; lookupIndices)
      throws InvalidFontException, UnsupportedFontException {
    for (int k = 0; k &lt; count; k++) {
      Element apply = (Element) nl.item (k);
      b.setuint16 (offset,
                   Integer.parseInt (apply.getAttribute ("pos")));

      String lookupName = apply.getAttribute ("lookup");
      int index = 0;
      try {
        index = Integer.parseInt (lookupName); }
      catch (java.lang.NumberFormatException e) {
        Integer ii = lookupIndices.get (lookupName);
        if (ii == null) {
          warning ("cannot resolve '" + lookupName + "'"); }
        index = ii.intValue (); }

      b.setuint16 (offset + 2, index);

      offset += 4; }

    return offset;
  }
</code-fragment>
    </section>
    
