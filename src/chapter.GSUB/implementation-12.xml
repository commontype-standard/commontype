<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<section role="implementation">
      <title>Implementation</title>
      <para>As usual, all subtable formats start with the same
          field, the uint16 SubstFormat, which we use to
          dispatch:</para>
      <code-fragment id="lookuptable.methods"><code-title>Execute GSUB 6 subtable and return</code-title>
  public LookupResult applyChainingContextualLookupSubtable
                          (int lookupIndex, int lookupType, int lookupFlag,
                           int stOffset, GlyphRun gr, int curGlyph)
      throws InvalidFontException {

    int substFormat = getuint16 (stOffset);

    switch (substFormat) {
      case 1: { <code-include linkend="chainingLookup_format1"/> }
      case 2: { <code-include linkend="chainingLookup_format2"/> }
      case 3: { <code-include linkend="chainingLookup_format3"/> }
      default:
        throw new InvalidFontException ("GSUB 6/-" + substFormat + "-"); }}
</code-fragment>
    </section>
  
