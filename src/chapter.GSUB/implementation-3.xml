<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<section role="implementation">
      <title>Implementation</title>
      <code-fragment id="gsub_1_1"><code-title>Execute GSUB 1/1 subtable and return</code-title>
  { int coverageOffset = stOffset + getOffset (stOffset + 2);
    int inPos = curGlyph;

    if (getCoverageIndex (gr.glyphAt (inPos), coverageOffset) == -1) {
      return lookupNotApplied; }

    if (! gr.isLookupApplied (lookupIndex, curGlyph, inPos)) {
      return lookupNotApplied; }

    int deltaGlyphId = getint16 (stOffset + 4);
    int newGlyphId = (gr.glyphAt (inPos) + deltaGlyphId) &amp; 0xffff;
    if (listener != null) {
      listener.replace (gr.glyphAt (inPos), newGlyphId);
      listener.applyingSubtable (lookupIndex, gr, curGlyph, "GSUB", stOffset); }
    gr.replace (inPos, newGlyphId);

    return new LookupResult (true, inPos + 1, 0); }
</code-fragment>
    </section>
    
