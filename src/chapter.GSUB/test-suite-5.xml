<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<section xmlns:aots="http://aots.adobe.com/2001/aots" role="test-suite">
      <title>Implementation Test</title>
      <section>
        <title>gsub3_1_simple</title>
        <para>Let’s start with a simple test that replaces
          glyph 18 by glyphs 20, 21 or 22.</para>
        <aots:test-font id="gsub3_1_simple_f1">
          <base-font name="base.otf"/>
          <GSUB major="1" minor="0">
            <code-include linkend="testfonts.gsub.scripts_features"/>
            <lookupList>
              <lookup id="lookup.test" type="3">
                <alternateSubst format="1">
                  <coverage glyphs="18" format="any"/>
                  <subst in="18" out="20 21 22"/>
                </alternateSubst>
              </lookup>
            </lookupList>
          </GSUB>
        </aots:test-font>
        <aots:gsub-test id="gsub3_1_simple_t1" font="gsub3_1_simple_f1" inputs="17, 18, 17, 18, 17, 18, 17, 18, 17, 18, 17, 18, 17" outputs="17, 18, 17, 20, 17, 21, 17, 22, 17, 18, 17, 20, 17" select="-1,  0, -1,  1, -1,  2, -1,  3, -1,  0, -1,  1, -1"/>
      </section>
      <section>
        <title>gsub3_1_multiple</title>
        <para>A slightly more complicated case with two alternate
            sets: 18 can be replaced by 20 or 21, and 19 can be replaced by 22
            or 23.</para>
        <aots:test-font id="gsub3_1_multiple_f1">
          <base-font name="base.otf"/>
          <GSUB major="1" minor="0">
            <code-include linkend="testfonts.gsub.scripts_features"/>
            <lookupList>
              <lookup id="lookup.test" type="3">
                <alternateSubst format="1">
                  <coverage glyphs="18 19" format="any"/>
                  <subst in="18" out="20 21"/>
                  <subst in="19" out="22 23"/>
                </alternateSubst>
              </lookup>
            </lookupList>
          </GSUB>
        </aots:test-font>
        <aots:gsub-test id="gsub3_1_multiple_t1" font="gsub3_1_multiple_f1" inputs="17, 18, 18, 18, 18, 19, 19, 19, 19, 17" outputs="17, 18, 20, 21, 18, 19, 22, 23, 19, 17" select="-1,  0,  1,  2,  0,  0,  1,  2,  0, -1"/>
      </section>
      <section>
        <title>gsub3_1_lookupflag</title>
        <para>Let’s add a LookupFlag to skip glyph 18.</para>
        <aots:test-font id="gsub3_1_lookupflag_f1">
          <base-font name="base.otf"/>
          <GDEF major="1" minor="0">
            <glyphClassDef format="any">
              <class classID="1" glyphs="18"/>
            </glyphClassDef>
          </GDEF>
          <GSUB major="1" minor="0">
            <code-include linkend="testfonts.gsub.scripts_features"/>
            <lookupList>
              <lookup id="lookup.test" ignoreBaseGlyphs="yes" type="3">
                <alternateSubst format="1">
                  <coverage glyphs="18 19" format="any"/>
                  <subst in="18" out="20 21"/>
                  <subst in="19" out="22 23"/>
                </alternateSubst>
              </lookup>
            </lookupList>
          </GSUB>
        </aots:test-font>
        <aots:gsub-test id="gsub3_1_lookupflag_t1" font="gsub3_1_lookupflag_f1" inputs="17, 18, 18, 18, 19, 19, 19, 19, 17" outputs="17, 18, 18, 18, 19, 22, 23, 19, 17" select="-1, -1, -1, -1,  0,  1,  2,  0, -1"/>
      </section>
    </section>
  
