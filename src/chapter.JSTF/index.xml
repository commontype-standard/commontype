<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<section id="chapter.JSTF">
  <title>JSTF - The Justification Table</title>
  <!--======================================================================-->
  <section role="fragment">
    <title>Overview</title>
    <!--____________________________________________________________________-->
    <section role="specification">
      <title>Specification</title>
      <para>The Justification table (<ottable>JSTF</ottable>)
        provides font developers with additional control over glyph
        substitution and positioning in justified text.
        Text-processing clients now have more options to expand or
        shrink word and glyph spacing so text fills the specified line
        length.</para>
      <para>When justifying text, the text-processing client
        distributes the characters in each line to completely fill the
        specified line length. Whether removing space to fit more
        characters in the line or adding more space to spread the
        characters, justification can produce large gaps between
        words, cramped or extended glyph spacing, uneven line break
        patterns, and other jarring visual effects. For
        example:</para>
      <figure>
        <title>Figure 6a. Poorly justified text</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="../../fig6a.gif"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>To offset these effects, text-processing clients have
        used justification algorithms that redistribute the space with
        a series of glyph spacing adjustments that progress from least
        to most obvious. Typically, the client will begin by expanding
        or compressing the space between words. If these changes
        aren't enough or look distracting, the client might hyphenate
        the word at the end of the line or adjust the space between
        glyphs in one or more lines.</para>
      <para>To disguise spacing inconsistencies so they won't
        disrupt the flow of text for a reader, the font developer can
        use the <ottable>JSTF</ottable> table to enable or disable
        individual glyph substitution and positioning actions that
        apply to specific scripts, language systems, and glyphs in the
        font.</para>
      <para>For instance, a ligature glyph can replace multiple
        glyphs, shortening the line of text with an unobtrusive,
        localized adjustment (see Figure 6b). Font-specific
        positioning changes can be applied to particular glyphs in a
        text line that combines two or more fonts. Other options
        include repositioning the individual glyphs in the line,
        expanding the space between specific pairs of glyphs, and
        decreasing the spacing within particular glyph
        sequences.</para>
      <figure>
        <title>Figure 6b. <ottable>JSTF</ottable> shortens the top
          line of this example by using the "ffi" ligature</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="../../fig6b.gif"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>The font designer or developer defines
        <ottable>JSTF</ottable> data as prioritized suggestions. Each
        suggestion lists the particular actions that the client can
        use to adjust the line of text. Justification actions may
        apply to both vertical and horizonal text.</para>
    </section>
  </section>
  <!--======================================================================-->
  <section role="fragment">
    <title>Table Organization</title>
    <!--____________________________________________________________________-->
    <section role="specification">
      <title>Specification</title>
      <para>The <ottable>JSTF</ottable> table organizes data by
        script and language system, as do the <ottable>GSUB</ottable>
        and <ottable>GPOS</ottable> tables.  The
        <ottable>JSTF</ottable> table begins with a header that lists
        scripts in an array of JstfScriptRecords (see Figure 6c). Each
        record contains a ScriptTag and an offset to a JstfScript
        table that contains script and language-specific data:</para>
      <itemizedlist>
        <listitem>
          <para>A default justification language system table
              (DefJstfLangSys) defines script-specific data that
              applies to the entire script in the absence of any
              language-specific information.</para>
        </listitem>
        <listitem>
          <para>A justification language system table (JstfLangSys)
              stores the justification data for each language
              system.</para>
        </listitem>
      </itemizedlist>
      <figure>
        <title>Figure 6c. High-level organization of <ottable>JSTF</ottable>
            table</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="../../fig6c.gif"/>
          </imageobject>
        </mediaobject>
      </figure>
      <para>A JstfLangSys table contains a list of justification
        suggestions. Each suggestion consists of a list of
        <ottable>GSUB</ottable> or <ottable>GPOS</ottable> LookupList
        indices to lookups that may be enabled or disabled to add or
        remove space in the line of text. In addition, each suggestion
        can include a set of dedicated justification lookups with
        maximum adjustment values to extend or shrink the amount of
        space.</para>
      <para>The font developer prioritizes suggestions based on how
        they affect the appearance and function of the text line, and
        the client applies the suggestions in that order.
        Low-numbered (high-priority) suggestions correspond to "least
        bad" options.</para>
      <para>Each script also may supply a list of extender glyphs,
        such as kashidas in Arabic. A client may use the extender
        glyphs in addition to the justification suggestions.</para>
      <para>A client begins justifying a line of text only after
	implementing all selected <ottable>GSUB</ottable> and
	<ottable>GPOS</ottable> features for the string. Starting with
	the lowest-numbered suggestion, the client enables or disables
	the lookups specified in the <ottable>JSTF</ottable> table,
	reassembles the lookups in the LookupList order, and applies
	them to each glyph in the string one after another. If the
	line still is not the correct length, the client processes the
	next suggestion in ascending order of priority. This continues
	until the line length meets the justification
	requirements.</para>
      <para>Note: If any <ottable>JSTF</ottable> suggestion at any
	priority level modifies a <ottable>GSUB</ottable> or
	<ottable>GPOS</ottable> lookup that was previously applied to
	the glyph string, then the text processing client must apply
	the <ottable>JSTF</ottable> suggestion to an unmodified
	version of the glyph string.</para>
      <para>The rest of this chapter describes the tables and
        records used by the <ottable>JSTF</ottable> table for scripts
        and language systems:</para>
      <itemizedlist>
        <listitem>
          <para>Script information includes the JstfScript table
              (plus its associated JstfLangSysRecords) and the
              ExtenderGlyph table.</para>
        </listitem>
        <listitem>
          <para>Language system information includes the JstfLangSys
              table, JstfPriority table (and its associated
              JstfDataRecord), the JstfModList table, and the JstfMax
              table.</para>
        </listitem>
      </itemizedlist>
    </section>
  </section>
  <!--======================================================================-->
  <section role="fragment">
    <title>JSTF Header</title>
    <!--____________________________________________________________________-->
    <section role="specification">
      <title>Specification</title>
      <para>The <ottable>JSTF</ottable> table begins with a header
          that contains a version number for the table (Version), a
          count of the number of scripts used in the font
          (JstfScriptCount), and an array of records
          (JstfScriptRecord). Each record contains a script tag
          (JstfScriptTag) and an offset to a JstfScript table
          (JstfScript).</para>
      <para>Note: The JstfScriptTags must correspond with the
          ScriptTags listed in the <ottable>GSUB</ottable> and
          <ottable>GPOS</ottable> tables.</para>
      <para>Example 1 at the end of this chapter shows a
          <ottable>JSTF</ottable> Header table and
          JstfScriptRecord.</para>
      <otformat>
        <title>JSTF header</title>
        <otfield>
          <otfieldoffs>0</otfieldoffs>
          <otfieldtype>fixed32</otfieldtype>
          <otfieldname>Version</otfieldname>
          <otfielddesc>Version of the <ottable>JSTF</ottable>
              table-initially set to 0x00010000</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>4</otfieldoffs>
          <otfieldtype>uint16</otfieldtype>
          <otfieldname>JstfScriptCount</otfieldname>
          <otfielddesc>Number of JstfScriptRecords in this
              table</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>6</otfieldoffs>
          <otfieldtype>struct</otfieldtype>
          <otfieldname>JstfScriptRecord [JstfScriptCount]</otfieldname>
          <otfielddesc>Array of JstfScriptRecords-in alphabetical
              order, by JstfScriptTag</otfielddesc>
        </otfield>
      </otformat>
      <otformat>
        <title>JstfScriptRecord</title>
        <otfield>
          <otfieldoffs>0</otfieldoffs>
          <otfieldtype>Tag</otfieldtype>
          <otfieldname>JstfScriptTag</otfieldname>
          <otfielddesc>4-byte JstfScript
              identification</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>4</otfieldoffs>
          <otfieldtype>Offset</otfieldtype>
          <otfieldname>JstfScript</otfieldname>
          <otfielddesc>Offset to JstfScript table-from beginning of
              <ottable>JSTF</ottable> Header</otfielddesc>
        </otfield>
      </otformat>
    </section>
    <!--____________________________________________________________________-->
    <section role="zzzxml-representation">
      <title>XML Representation</title>
      <code-fragment id="zzzschema">
        <code-title>JST</code-title>
  JSTF =
    element JSTF {
      attribute major { "1" },
      attribute minor { "0" },

      element script {
        attribute tag { text }
        jstfScriptTableOffset
      }*

      (  standaloneJstfScriptTable
       | standaloneExtenderGlyphTable
       | standaloneJstfLangSysTable
       | standaloneJstfPriorityTable
       | standaloneJstfModList
       | standaloneJstfMaxTable

       | standaloneLookupTable
       | standaloneSinglePosTable
       | standalonePairPosTable
       | standaloneCursiveAttachmentTable
       | standaloneMarkToBaseAttachmentTable
       | standaloneMarkToLigatureAttachmentTable
       | standaloneMarkToMarkAttachmentTable
       | standaloneExtensionTable

       | standaloneCoverageTable
       | standaloneClassDefTable
       | standaloneDeviceTable)*
      )*
    }
</code-fragment>
    </section>
    <!--____________________________________________________________________-->
    <section role="zzzcompiler">
      <title>Compiler</title>
      <code-fragment id="zzzjstf.methods">
  public void fromXML (Element jstf)
      throws InvalidFontException, UnsupportedFontException {

    Map&lt;Element, Block&gt; blockCache = new HashMap&lt;Element, Block&gt; ();
    NodeList scripts = jstf.getChildNodes ();
    int scriptCount = scripts.getLength ();

    Block me = new Block (4 + 6*scriptCount, scriptCount);
    me.setFixed (0, 1, 0);

    for (int i = 0; i &lt; l.getLength (); i++) {
      (Element) script = (Element) scripts.item (i);

      me.setTag (4 + 6*i + offset, script.getAttribute ("tag"));
      me.setOffset (4 + 6*i + 4,
                    jstfScriptTableFromXML (script. jstf, blockCache)); }

    data = me.serialize ();
  }
</code-fragment>
    </section>
    <!--____________________________________________________________________-->
    <section role="zzzdecompiler">
      <title>Decompiler</title>
      <code-fragment id="zzzjstf.methods">
  public void toXML (DecompilerConfig conf)
      throws org.xml.sax.SAXException, InvalidFontException {

    int [] counts = new int [data.length];
    for (int i = 0; i &lt; counts.length; i++) {
      counts [i] = 0; }

    int scriptCount = getuint16 (4);
    for (int i = 0; i &lt; scriptCount; i++) {
      jstfScriptTableToXMLCount (getOffset (4 + 6*i + 4), counts); }

    if (conf.pointers == DecompilerConfig.PointersAreShown.never) {
      for (int i = 0; i &lt; counts.length; i++) {
        counts [i] = 1; }}
    if (conf.pointers == DecompilerConfig.PointersAreShown.always) {
      for (int i = 0; i &lt; counts.length; i++) {
        counts [i] = 2; }}

    AttributesImpl at;

    int [] version = getTableVersion ();
    at = new AttributesImpl ();
    at.addAttribute ("", "major", "major", "CDATA", "" + version [0]);
    at.addAttribute ("", "minor", "minor", "CDATA", "" + version [1]);

    conf.ch.startElement ("JSTF", at); {

      for (int i = 0; i &lt; scriptCount; i++) {
        at = new AttributesImpl ();
        at.addAttribute ("", "tag", "tag", "CDATA",
                         Tag.tag2string (getTag (4 + 6*i)));
        jstfScriptTableOffsetToXML (conf, getOffset (4 + 6*i + 4), counts,
                                    script, at); }

      for (int i = 0; i &lt; scriptCount; i++) {
        jstfScriptTableToXML (conf, getOffset (4 + 6*i + 4), counts); }

      conf.ch.endElement ("JSTF"); }
  }
</code-fragment>
    </section>
  </section>
  <!--======================================================================-->
  <section role="fragment">
    <title>Justification Script Table</title>
    <!--____________________________________________________________________-->
    <section role="specification">
      <title>Specification</title>
      <para>A Justification Script (JstfScript) table describes the
        justification information for a single script. It consists of
        an offset to a table that defines extender glyphs
        (ExtenderGlyph), an offset to a default justification table
        for the script (DefJstfLangSys), and a count of the language
        systems that define justification data
        (JstfLangSysCount).</para>
      <para>If a script uses the same justification information for
        all language systems, the font developer defines only the
        DefJstfLangSys table and sets the JstfLangSysCount to zero
        (0). However, if any language system has unique justification
        suggestions, JstfLangSysCount will be a positive value, and
        the JstfScript table must include an array of records
        (JstfLangSysRecord), one for each language system. Each
        JstfLangSysRecord contains a language system tag
        (JstfLangSysTag) and an offset to a justification language
        system table (JstfLangSys). In the JstfLangSysRecord array,
        records are ordered alphabetically by JstfLangSysTag.</para>
      <para>Note: No JstfLangSysRecord is defined for the default
        script data; the data is stored in the DefJstfLangSys table
        instead.</para>
      <para>Example 2 at the end of the chapter shows a JstfScript
        table for the Arabic script and a JstfLangSysRecord for the
        Farsi language system.</para>
      <otformat>
        <title>JstfScript table</title>
        <otfield>
          <otfieldoffs>0</otfieldoffs>
          <otfieldtype>Offset</otfieldtype>
          <otfieldname>ExtenderGlyph</otfieldname>
          <otfielddesc>Offset to ExtenderGlyph table-from beginning
              of JstfScript table-may be NULL</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>2</otfieldoffs>
          <otfieldtype>Offset</otfieldtype>
          <otfieldname>DefJstfLangSys</otfieldname>
          <otfielddesc>Offset to Default JstfLangSys table-from
              beginning of JstfScript table-may be NULL</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>4</otfieldoffs>
          <otfieldtype>uint16</otfieldtype>
          <otfieldname>JstfLangSysCount</otfieldname>
          <otfielddesc>Number of JstfLangSysRecords in this table-
              may be zero (0)</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>6</otfieldoffs>
          <otfieldtype>struct</otfieldtype>
          <otfieldname>JstfLangSysRecord [JstfLangSysCount]</otfieldname>
          <otfielddesc>Array of JstfLangSysRecords-in alphabetical
              order, by JstfLangSysTag</otfielddesc>
        </otfield>
      </otformat>
      <otformat>
        <title>JstfLangSysRecord</title>
        <otfield>
          <otfieldoffs>0</otfieldoffs>
          <otfieldtype>Tag</otfieldtype>
          <otfieldname>JstfLangSysTag</otfieldname>
          <otfielddesc>4-byte JstfLangSys identifier</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>4</otfieldoffs>
          <otfieldtype>Offset</otfieldtype>
          <otfieldname>JstfLangSys</otfieldname>
          <otfielddesc>Offset to JstfLangSys table-from beginning of
              JstfScript table</otfielddesc>
        </otfield>
      </otformat>
    </section>
    <!--____________________________________________________________________-->
    <section role="zzzxml-representation">
      <title>XML Representation</title>
      <code-fragment id="zzzschema">
        <code-title>JST</code-title>
  jstfScriptTable =
    element extenderGlyph { extenderGlyphTableOffset }?,
    element defaultLangSys { jstfLangSysTableOffset }?,
    element langSys {
      attribute tag { text },
      jstfLangSysTableOffset
    }*

  standaloneJstfScriptTable =
    element jstfScriptTable { attribute id { text }, jstfScriptTable }

  jstfScriptTableOffset = attribute name { text } | jstfScriptTable
</code-fragment>
    </section>
  </section>
  <!--======================================================================-->
  <section role="fragment">
    <title>Extender Glyph Table</title>
    <!--____________________________________________________________________-->
    <section role="specification">
      <title>Specification</title>
      <para>The Extender Glyph table (ExtenderGlyph) lists indices
        of glyphs, such as Arabic kashidas, that a client may insert
        to extend the length of the line for justification. The table
        consists of a count of the extender glyphs for the script
        (GlyphCount) and an array of extender glyph indices
        (ExtenderGlyph), arranged in increasing numerical
        order.</para>
      <para>Example 2 at the end of this chapter shows an
	ExtenderGlyph table for Arabic kashida glyphs.</para>
      <otformat>
        <title>ExtenderGlyph table</title>
        <otfield>
          <otfieldoffs>0</otfieldoffs>
          <otfieldtype>uint16</otfieldtype>
          <otfieldname>GlyphCount</otfieldname>
          <otfielddesc>Number of Extender Glyphs in this
              script</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>2</otfieldoffs>
          <otfieldtype>GlyphID</otfieldtype>
          <otfieldname>ExtenderGlyph [GlyphCount]</otfieldname>
          <otfielddesc>GlyphIDs-in increasing numerical
              order</otfielddesc>
        </otfield>
      </otformat>
    </section>
    <!--____________________________________________________________________-->
    <section role="zzzxml-representation">
      <title>XML Representation</title>
      <code-fragment id="zzzschema">
        <code-title>JST</code-title>
  extenderGlyphTable =
    attribute glyphs { text }

  standaloneExtenderGlyphTable =
    element extenderGlyphTable { attribute id { text }, extenderGlyphTable }

  extenderGlyphTableOffset = attribute name { text } | extenderGlyphTable
</code-fragment>
    </section>
  </section>
  <!--======================================================================-->
  <section role="fragment">
    <title>Justification Language System Table</title>
    <!--____________________________________________________________________-->
    <section role="specification">
      <title>Specification</title>
      <para>The Justification Language System (JstfLangSys) table
        contains an array of justification suggestions, ordered by
        priority. A text-processing client doing justification should
        begin with the suggestion that has a zero (0) priority, and
        then-as necessary-apply suggestions of increasing priority
        until the text is justified.</para>
      <para>The font developer defines the number and the meaning of
        the priority levels. Each priority level stands alone; its
        suggestions are not added to the previous levels. The
        JstfLangSys table consists of a count of the number of
        priority levels (JstfPriorityCnt) and an array of offsets to
        Justification Priority tables (JstfPriority), stored in
        priority order. Example 2 at the end of the chapter shows how
        to define a JstfLangSys table.</para>
      <otformat>
        <title>JstfLangSys table</title>
        <otfield>
          <otfieldoffs>0</otfieldoffs>
          <otfieldtype>uint16</otfieldtype>
          <otfieldname>JstfPriorityCnt</otfieldname>
          <otfielddesc>Number of JstfPriority tables</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>2</otfieldoffs>
          <otfieldtype>Offset</otfieldtype>
          <otfieldname>JstfPriority [JstfPriorityCnt]</otfieldname>
          <otfielddesc>Array of offsets to JstfPriority tables-from
              beginning of JstfLangSys table-in priority
              order</otfielddesc>
        </otfield>
      </otformat>
    </section>
    <!--____________________________________________________________________-->
    <section role="zzzxml-representation">
      <title>XML Representation</title>
      <code-fragment id="zzzschema">
        <code-title>JST</code-title>
  jstfLangSysTable =
    element priority {
      jstfPriorityTableOffset
    }*

  standaloneJstfLangSysTable =
    element jstfLangSysTable { attribute id { text }, jstfLanSysTable }

  jstfLangSysTableOffset = attribute name { text } | jstfLangSysTable
</code-fragment>
    </section>
  </section>
  <!--======================================================================-->
  <section role="fragment">
    <title>Justification Priority Table</title>
    <!--____________________________________________________________________-->
    <section role="specification">
      <title>Specification</title>
      <para>A Justification Priority (JstfPriority) table defines
          justification suggestions for a single priority level. Each
          priority level specifies whether to enable or disable
          <ottable>GSUB</ottable> and <ottable>GPOS</ottable> lookups
          or apply text justification lookups to shrink and extend
          lines of text.</para>
      <para>JstfPriority has offsets to four tables with line
          shrinkage data: two are JstfGSUBModList tables for enabling
          and disabling glyph substitution lookups, and two are
          JstfGPOSModList tables for enabling and disabling glyph
          positioning lookups. Offsets to JstfGSUBModList and
          JstfGPOSModList tables also are defined for line
          extension.</para>
      <para>Example 3 at the end of this chapter demonstrates two
          JstfPriority tables for two justification
          suggestions.</para>
      <otformat>
        <title>JstfPriority table</title>
        <otfield>
          <otfieldoffs>0</otfieldoffs>
          <otfieldtype>Offset</otfieldtype>
          <otfieldname>ShrinkageEnableGSUB</otfieldname>
          <otfielddesc>Offset to Shrinkage Enable JstfGSUBModList
              table-from beginning of JstfPriority table-may be
              NULL</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>2</otfieldoffs>
          <otfieldtype>Offset</otfieldtype>
          <otfieldname>ShrinkageDisableGSUB</otfieldname>
          <otfielddesc>Offset to Shrinkage Disable JstfGSUBModList
              table-from beginning of JstfPriority table-may be
              NULL</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>4</otfieldoffs>
          <otfieldtype>Offset</otfieldtype>
          <otfieldname>ShrinkageEnableGPOS</otfieldname>
          <otfielddesc>Offset to Shrinkage Enable JstfGPOSModList
              table-from beginning of JstfPriority table-may be
              NULL</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>6</otfieldoffs>
          <otfieldtype>Offset</otfieldtype>
          <otfieldname>ShrinkageDisableGPOS</otfieldname>
          <otfielddesc>Offset to Shrinkage Disable JstfGPOSModList
              table-from beginning of JstfPriority table-may be
              NULL</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>8</otfieldoffs>
          <otfieldtype>Offset</otfieldtype>
          <otfieldname>ShrinkageJstfMax</otfieldname>
          <otfielddesc>Offset to Shrinkage JstfMax table-from
              beginning of JstfPriority table -may be
              NULL</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>10</otfieldoffs>
          <otfieldtype>Offset</otfieldtype>
          <otfieldname>ExtensionEnableGSUB</otfieldname>
          <otfielddesc>Offset to Extension Enable JstfGSUBModList
              table-may be NULL</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>12</otfieldoffs>
          <otfieldtype>Offset</otfieldtype>
          <otfieldname>ExtensionDisableGSUB</otfieldname>
          <otfielddesc>Offset to Extension Disable JstfGSUBModList
              table-from beginning of JstfPriority table-may be
              NULL</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>14</otfieldoffs>
          <otfieldtype>Offset</otfieldtype>
          <otfieldname>ExtensionEnableGPOS</otfieldname>
          <otfielddesc>Offset to Extension Enable JstfGSUBModList
              table-may be NULL</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>16</otfieldoffs>
          <otfieldtype>Offset</otfieldtype>
          <otfieldname>ExtensionDisableGPOS</otfieldname>
          <otfielddesc>Offset to Extension Disable JstfGSUBModList
              table-from beginning of JstfPriority table-may be
              NULL</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>18</otfieldoffs>
          <otfieldtype>Offset</otfieldtype>
          <otfieldname>ExtensionJstfMax</otfieldname>
          <otfielddesc>Offset to Extension JstfMax table-from
              beginning of JstfPriority table -may be
              NULL</otfielddesc>
        </otfield>
      </otformat>
    </section>
    <!--____________________________________________________________________-->
    <section role="zzzxml-representation">
      <title>XML Representation</title>
      <code-fragment id="zzzschema">
        <code-title>JST</code-title>
  jstfPriorityTable =
    element shrinkage {
      element enableGSUB   { jstfModListOffset }?,
      element disableGSUB  { jstfModListOffset }?,
      element enableGPOS   { jstfModListOffset }?,
      element disableGPOS  { jstfModListOffset }?,
      element jstfMax      { jstfMaxTableOffset }? },

    element extension {
      element enableGSUB   { jstfModListOffset }?,
      element disableGSUB  { jstfModListOffset }?,
      element enableGPOS   { jstfModListOffset }?,
      element disableGPOS  { jstfModListOffset }?,
      element jstfMax      { jstfMaxTableOffset }? }

  standaloneJstfPriorityTable =
    element jstfPriority { attribute id { text }, jstfPriorityTable }

  jstfPriorityTableOffset = attribute name { text } | jstfPriorityTable
</code-fragment>
    </section>
  </section>
  <!--======================================================================-->
  <section role="fragment">
    <title>Justification Modification List Tables</title>
    <!--____________________________________________________________________-->
    <section role="specification">
      <title>Specification</title>
      <para>The Justification Modification List tables
          (JstfGSUBModList and JstfGPOSModList) contain lists of
          indices into the lookup lists of either the GSUB or GPOS
          tables. The client can enable or disable the lookups to
          justify text. For example, to increase line length, the
          client might disable a <ottable>GSUB</ottable> ligature
          substitution.</para>
      <para>Each JstfModList table consists of a count of Lookups
          (LookupCount) and an array of lookup indices
          (LookupIndex).</para>
      <para>To justify a line of text, a text-processing client
          enables or disables the specified lookups in a JstfModList
          table, reassembles the lookups in the LookupList order, and
          applies them to each glyph in the string one after
          another.</para>
      <para>Note: If any <ottable>JSTF</ottable> suggestion at any
          priority level modifies a <ottable>GSUB</ottable> or
          <ottable>GPOS</ottable> lookup previously applied to the
          glyph string, then the text-processing client must apply the
          <ottable>JSTF</ottable> suggestion to an unmodified version
          of the glyph string.</para>
      <para>Example 3 at the end of this chapter shows
          JstfGSUBModList and JstfGPOSModList tables with data for
          shrinking and extending text line lengths.</para>
      <otformat>
        <title>JstfGSUBModList table</title>
        <otfield>
          <otfieldoffs>0</otfieldoffs>
          <otfieldtype>uint16</otfieldtype>
          <otfieldname>LookupCount</otfieldname>
          <otfielddesc>Number of lookups for this
              modification</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>2</otfieldoffs>
          <otfieldtype>uint16</otfieldtype>
          <otfieldname>GSUBLookupIndex [LookupCount]</otfieldname>
          <otfielddesc>Array of LookupIndex identifiers in GSUB-in
              increasing numerical order</otfielddesc>
        </otfield>
      </otformat>
      <otformat>
        <title>JstfGPOSModList table</title>
        <otfield>
          <otfieldoffs>0</otfieldoffs>
          <otfieldtype>uint16</otfieldtype>
          <otfieldname>LookupCount</otfieldname>
          <otfielddesc>Number of lookups for this
              modification</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>2</otfieldoffs>
          <otfieldtype>uint16</otfieldtype>
          <otfieldname>GPOSLookupIndex [LookupCount]</otfieldname>
          <otfielddesc>Array of LookupIndex identifiers in GPOS-in
              increasing numerical order</otfielddesc>
        </otfield>
      </otformat>
    </section>
    <!--____________________________________________________________________-->
    <section role="zzzxml-representation">
      <title>XML Representation</title>
      <code-fragment id="zzzschema">
        <code-title>JST</code-title>
  jstfModList =
    attribute lookups { text }

  standaloneJstfModList =
    element jstfModList { attribute id { text }, jstfModList }

  jstfModListOffset = attribute name { text } | jstfModList
</code-fragment>
    </section>
  </section>
  <!--======================================================================-->
  <section role="fragment">
    <title>Justification Maximum Table</title>
    <!--____________________________________________________________________-->
    <section role="specification">
      <title>Specification</title>
      <para>A Justification Maximum table (JstfMax) consists of an
          array of offsets to justification lookups (Lookup) and a
          count of the defined lookups (Lookup). JstfMax lookups
          typically are located after the JstfMax table in the font
          definition.</para>
      <para>JstfMax tables have the same format as lookup tables and
          subtables in the <ottable>GPOS</ottable> table, but the
          JstfMax lookups reside in the <ottable>JSTF</ottable> table
          and contain justification data only. The lookup data might
          specify a single adjustment value for positioning all glyphs
          in the script, or it might specify more elaborate
          adjustments, such as different values for different glyphs
          or special values for specific pairs of glyphs.</para>
      <para>Note: All <ottable>GPOS</ottable> lookup types except
          contextual positioning lookups may be defined in a JstfMax
          table.</para>
      <para>JstfMax lookup values are defined in
          <ottable>GPOS</ottable> ValueRecords and may be specified
          for any advance or placement position, whether horizontal or
          vertical. These values define the maximum shrinkage or
          extension allowed per glyph. To justify text, a
          text-processing client may choose to adjust a glyph's
          positioning by any amount from zero (0) to the specified
          maximum.</para>
      <para>Example 4 at the end of this chapter shows a JstfMax
          table. It defines a justification lookup to change the size
          of the word space glyph to extend line lengths.</para>
      <otformat>
        <title>JstfMax table</title>
        <otfield>
          <otfieldoffs>0</otfieldoffs>
          <otfieldtype>uint16</otfieldtype>
          <otfieldname>LookupCount</otfieldname>
          <otfielddesc>Number of lookup Indices for this
              modification</otfielddesc>
        </otfield>
        <otfield>
          <otfieldoffs>2</otfieldoffs>
          <otfieldtype>Offset</otfieldtype>
          <otfieldname>Lookup [LookupCount]</otfieldname>
          <otfielddesc>Array of offsets to
              <ottable>GPOS</ottable>-type lookup tables-from
              beginning of JstfMax table-in design order</otfielddesc>
        </otfield>
      </otformat>
    </section>
    <!--____________________________________________________________________-->
    <section role="zzzxml-representation">
      <title>XML Representation</title>
      <code-fragment id="zzzschema">
        <code-title>JST</code-title>
  jstfMaxTable =
    element lookup {
      GPOSJSTFlookupTableOffset
    }*

  standaloneJstfMaxTable =
    element jstfMaxTable { attribute id { text }, jstfMaxTable }

  jstfMaxTableOffset = attribute name { text } | jstfMaxTable

  standaloneGPOSJSTFlookupTable =
    element lookupTable { attribute id { text }, GPOSJSTlookupTable

  GPOSJSTFlookupTableOffset = attribute name { text } | GPOSJSTFlookupTable
</code-fragment>
    </section>
  </section>
  <!--======================================================================-->
  <section role="fragment">
    <title>JSTF Table Examples</title>
    <!--____________________________________________________________________-->
    <section role="specification">
      <title>Specification</title>
      <para>The rest of this chapter describes examples of all the
          <ottable>JSTF</ottable> table formats. All the examples reflect unique
          parameters described below, but the samples provide a useful
          reference for building tables specific to other
          situations.</para>
      <para>The examples have three columns showing hex data,
          source, and comments.</para>
    </section>
  </section>
  <!--======================================================================-->
  <section role="fragment">
    <title>Example 1: JSTF Header Table and JstfScriptRecord</title>
    <!--____________________________________________________________________-->
    <section role="specification">
      <title>Specification</title>
      <para>Example 1 demonstrates how a script is defined in the
          <ottable>JSTF</ottable> Header with a JstfScriptRecord that
          identifies the script and references its JstfScript
          table.</para>
      <otexample>
        <title>Example 1</title>
        <otexline>
          <otexdata/>
          <otexsrc>JSTFHeader</otexsrc>
          <otexcom/>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>TheJSTFHeader</otexsrc>
          <otexcom>JSTFHeader table
                  definition</otexcom>
        </otexline>
        <otexline>
          <otexdata>00010000</otexdata>
          <otexsrc>0x00010000</otexsrc>
          <otexcom>version</otexcom>
        </otexline>
        <otexline>
          <otexdata>0001</otexdata>
          <otexsrc>1</otexsrc>
          <otexcom>JstfScriptCount JstfScriptRecord[0]</otexcom>
        </otexline>
        <otexline>
          <otexdata>74686169</otexdata>
          <otexsrc>"thai"</otexsrc>
          <otexcom>JstfScriptTag</otexcom>
        </otexline>
        <otexline>
          <otexdata>000C</otexdata>
          <otexsrc>ThaiScript</otexsrc>
          <otexcom>offset to JstfScript table</otexcom>
        </otexline>
      </otexample>
    </section>
  </section>
  <!--======================================================================-->
  <section role="fragment">
    <title>Example 2: JstfScript Table, ExtenderGlyph Table,
        JstfLangSysRecord, and JstfLangSys Table</title>
    <!--____________________________________________________________________-->
    <section role="specification">
      <title>Specification</title>
      <para>Example 2 shows a JstfScript table for the Arabic script
          and the tables it references. The DefJstfLangSys table
          defines justification data to apply to the script in the
          absence of language-specific information. In the example,
          the table lists two justification suggestions in priority
          order.</para>
      <para>JstfScript also supplies language-specific justification
          data for the Farsi language. The JstfLangSysRecord
          identifies the language and references its JstfLangSys
          table. The FarsiJstfLangSys lists one suggestion for
          justifying Farsi text.</para>
      <para>The ExtenderGlyph table in JstfScript lists the indices
          of all the extender glyphs used in the script.</para>
      <otexample>
        <title>Example 2</title>
        <otexline>
          <otexdata/>
          <otexsrc>JstfScript</otexsrc>
          <otexcom/>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>ArabicScript</otexsrc>
          <otexcom>JstfScript table
                  definition</otexcom>
        </otexline>
        <otexline>
          <otexdata>000C</otexdata>
          <otexsrc>ArabicExtenders</otexsrc>
          <otexcom>ExtenderGlyph</otexcom>
        </otexline>
        <otexline>
          <otexdata>0012</otexdata>
          <otexsrc>ArabicDefJstfLangSys</otexsrc>
          <otexcom>offset to DefJstfLangSys table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0001</otexdata>
          <otexsrc>1</otexsrc>
          <otexcom>JstfLangSysCount JstfLangSysRecord[0]</otexcom>
        </otexline>
        <otexline>
          <otexdata>50455220</otexdata>
          <otexsrc>"FAR</otexsrc>
          <otexcom>" JstfLangSysTag</otexcom>
        </otexline>
        <otexline>
          <otexdata>0018</otexdata>
          <otexsrc>FarsiJstfLangSys</otexsrc>
          <otexcom>JstfLangSy</otexcom>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>ExtenderGlyph</otexsrc>
          <otexcom/>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>ArabicExtenders</otexsrc>
          <otexcom>ExtenderGlyph table
                  definition</otexcom>
        </otexline>
        <otexline>
          <otexdata>0002</otexdata>
          <otexsrc>2</otexsrc>
          <otexcom>GlyphCount</otexcom>
        </otexline>
        <otexline>
          <otexdata>01D3</otexdata>
          <otexsrc>TatweelGlyphID</otexsrc>
          <otexcom>ExtenderGlyph[0]</otexcom>
        </otexline>
        <otexline>
          <otexdata>01D4</otexdata>
          <otexsrc>LongTatweelGlyphID</otexsrc>
          <otexcom>ExtenderGlyph[1</otexcom>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>JstfLangSys</otexsrc>
          <otexcom/>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>ArabicDefJstfLangSys</otexsrc>
          <otexcom>JstfLangSys table
                  definition</otexcom>
        </otexline>
        <otexline>
          <otexdata>0002</otexdata>
          <otexsrc>2</otexsrc>
          <otexcom>JstfPriorityCnt</otexcom>
        </otexline>
        <otexline>
          <otexdata>000A</otexdata>
          <otexsrc>ArabicScriptJstfPriority1</otexsrc>
          <otexcom>offset to JstfPriority[0] table</otexcom>
        </otexline>
        <otexline>
          <otexdata>001E</otexdata>
          <otexsrc>ArabicScriptJstfPriority2</otexsrc>
          <otexcom>offset to JstfPriority[1] tabl</otexcom>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>JstfLangSys</otexsrc>
          <otexcom/>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>FarsiJstfLangSys</otexsrc>
          <otexcom>JstfLangSys table
                  definition</otexcom>
        </otexline>
        <otexline>
          <otexdata>0001</otexdata>
          <otexsrc>1</otexsrc>
          <otexcom>JstfPriorityCnt</otexcom>
        </otexline>
        <otexline>
          <otexdata>002C</otexdata>
          <otexsrc>FarsiLangJstfPriority1</otexsrc>
          <otexcom>offset to JstfPriority[0] table</otexcom>
        </otexline>
      </otexample>
    </section>
  </section>
  <!--======================================================================-->
  <section role="fragment">
    <title>Example 3: JstfPriority Table, JstfGSUBModList Table, and
        JstfGPOSModList Table</title>
    <!--____________________________________________________________________-->
    <section role="specification">
      <title>Specification</title>
      <para>Example 3 shows the JstfPriority and JstfModList table
          definitions for two justification suggestions defined in
          priority order. The first suggestion uses ligature
          substitution to shrink the lengths of text lines, and it
          extends line lengths by replacing ligatures with their
          individual glyph components. Other lookup actions are not
          recommended at this priority level and are set to NULL. The
          associated JstfModList tables enable and disable three
          substitution lookups.</para>
      <para>The second suggestion enables glyph kerning to reduce
          line lenths and disables glyph kerning to extend line
          lengths. Each action uses three lookups. This suggestion
          also includes a JstfMax table to extend line lengths, called
          WordSpaceExpandMax, which is described in Example 4.</para>
      <otexample>
        <title>Example 3</title>
        <otexline>
          <otexdata/>
          <otexsrc>JstfPriority</otexsrc>
          <otexcom/>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>USEnglishFirstJstfPriority</otexsrc>
          <otexcom>JstfPriority table
                  definition</otexcom>
        </otexline>
        <otexline>
          <otexdata>0028</otexdata>
          <otexsrc>EnableGSUBLookupsToShrink</otexsrc>
          <otexcom>offset to ShrinkageEnableGSUB JstfGSUBModList
                  table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0000</otexdata>
          <otexsrc>NULL</otexsrc>
          <otexcom>offset to ShrinkageDisableGSUB JstfGSUBModList
                  table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0000</otexdata>
          <otexsrc>NULL</otexsrc>
          <otexcom>offset to ShrinkageEnableGPOS JstfGPOSModList
                  table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0000</otexdata>
          <otexsrc>NULL</otexsrc>
          <otexcom>offset to ShrinkageDisableGPOS JstfGPOSModList
                  table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0000</otexdata>
          <otexsrc>NULL</otexsrc>
          <otexcom>offset to Shrinkage JstfMax table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0000</otexdata>
          <otexsrc>NULL</otexsrc>
          <otexcom>offset to ExtensionEnableGSUB, JstfGSUBModList
                  table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0038</otexdata>
          <otexsrc>DisableGSUBLookupsToExtend</otexsrc>
          <otexcom>offset to ExtensionDisableGSUB JstfGSUBModList
                  table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0000</otexdata>
          <otexsrc>NULL</otexsrc>
          <otexcom>offset to ExtensionEnableGPOS JstfGPOSModList
                  table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0000</otexdata>
          <otexsrc>NULL</otexsrc>
          <otexcom>offset to ExtensionDisableGPOS JstfGPOSModList
                  table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0000</otexdata>
          <otexsrc>NULL</otexsrc>
          <otexcom>offset to Extension JstfMax tabl</otexcom>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>JstfPriority</otexsrc>
          <otexcom/>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>USEnglishSecondJstfPriority</otexsrc>
          <otexcom>JstfPriority table
                  definition</otexcom>
        </otexline>
        <otexline>
          <otexdata>0000</otexdata>
          <otexsrc>NULL</otexsrc>
          <otexcom>offset to ShrinkageEnableGSUB JstfGSUBModList
                  table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0000</otexdata>
          <otexsrc>NULL</otexsrc>
          <otexcom>offset to ShrinkageDisableGSUB JstfGSUBModList
                  table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0000</otexdata>
          <otexsrc>NULL</otexsrc>
          <otexcom>offset to ShrinkageEnableGPOS JstfGPOSModList
                  table</otexcom>
        </otexline>
        <otexline>
          <otexdata>001C</otexdata>
          <otexsrc>DisableGPOSLookupsToShrink</otexsrc>
          <otexcom>offset to ShrinkageDisableGPOS JstfGPOSModList
                  table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0000</otexdata>
          <otexsrc>NULL</otexsrc>
          <otexcom>offset to Shrinkage JstfMax table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0000</otexdata>
          <otexsrc>NULL</otexsrc>
          <otexcom>offset to ExtensionEnableGSUB JstfGSUBModList
                  table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0000</otexdata>
          <otexsrc>NULL</otexsrc>
          <otexcom>offset to ExtensionDisableGSUB JstfGSUBModList
                  table</otexcom>
        </otexline>
        <otexline>
          <otexdata>002C</otexdata>
          <otexsrc>EnableGPOSLookupsToExtend</otexsrc>
          <otexcom>offset to ExtensionEnableGPOS JstfGPOSModList
                  table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0000</otexdata>
          <otexsrc>NULL</otexsrc>
          <otexcom>offset to ExtensionDisableGPOS JstfGPOSModList
                  table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0000</otexdata>
          <otexsrc>NULL</otexsrc>
          <otexcom>offset to Extension JstfMax tabl</otexcom>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>JstfGSUBModList</otexsrc>
          <otexcom/>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>EnableGSUBLookupsToShrink</otexsrc>
          <otexcom>JstfGSUBModList table
                  definition, enable three ligature substitution
                  lookups</otexcom>
        </otexline>
        <otexline>
          <otexdata>0003</otexdata>
          <otexsrc>3</otexsrc>
          <otexcom>LookupCount</otexcom>
        </otexline>
        <otexline>
          <otexdata>002E</otexdata>
          <otexsrc>46</otexsrc>
          <otexcom>LookupIndex[0]</otexcom>
        </otexline>
        <otexline>
          <otexdata>0035</otexdata>
          <otexsrc>53</otexsrc>
          <otexcom>LookupIndex[1]</otexcom>
        </otexline>
        <otexline>
          <otexdata>0063</otexdata>
          <otexsrc>99</otexsrc>
          <otexcom>LookupIndex[2</otexcom>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>JstfGPOSModList</otexsrc>
          <otexcom/>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>DisableGPOSLookupsToShrink</otexsrc>
          <otexcom>JstfGPOSModList
                  table definition, disable three tight kerning
                  lookups</otexcom>
        </otexline>
        <otexline>
          <otexdata>0003</otexdata>
          <otexsrc>3</otexsrc>
          <otexcom>LookupCount</otexcom>
        </otexline>
        <otexline>
          <otexdata>006C</otexdata>
          <otexsrc>108</otexsrc>
          <otexcom>LookupIndex[0]</otexcom>
        </otexline>
        <otexline>
          <otexdata>006E</otexdata>
          <otexsrc>110</otexsrc>
          <otexcom>LookupIndex[1]</otexcom>
        </otexline>
        <otexline>
          <otexdata>0070</otexdata>
          <otexsrc>112</otexsrc>
          <otexcom>LookupIndex[2</otexcom>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>JstfGSUBModList</otexsrc>
          <otexcom/>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>DisableGSUBLookupsToExtend</otexsrc>
          <otexcom>JstfGSUBModList
                  table definition, disable three ligature
                  substitution lookups</otexcom>
        </otexline>
        <otexline>
          <otexdata>0003</otexdata>
          <otexsrc>3</otexsrc>
          <otexcom>LookupCount</otexcom>
        </otexline>
        <otexline>
          <otexdata>002E</otexdata>
          <otexsrc>46</otexsrc>
          <otexcom>LookupIndex[0]</otexcom>
        </otexline>
        <otexline>
          <otexdata>0035</otexdata>
          <otexsrc>53</otexsrc>
          <otexcom>LookupIndex[1]</otexcom>
        </otexline>
        <otexline>
          <otexdata>0063</otexdata>
          <otexsrc>99</otexsrc>
          <otexcom>LookupIndex[2</otexcom>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>JstfGPOSModList</otexsrc>
          <otexcom/>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>EnableGPOSLookupsToExtend</otexsrc>
          <otexcom>JstfGPOSModList table
                  definition enable three tight kerning
                  lookups</otexcom>
        </otexline>
        <otexline>
          <otexdata>0003</otexdata>
          <otexsrc>3</otexsrc>
          <otexcom>LookupCount</otexcom>
        </otexline>
        <otexline>
          <otexdata>006C</otexdata>
          <otexsrc>108</otexsrc>
          <otexcom>LookupIndex[0]</otexcom>
        </otexline>
        <otexline>
          <otexdata>006E</otexdata>
          <otexsrc>110</otexsrc>
          <otexcom>LookupIndex[1]</otexcom>
        </otexline>
        <otexline>
          <otexdata>0070</otexdata>
          <otexsrc>112</otexsrc>
          <otexcom>LookupIndex[2]</otexcom>
        </otexline>
      </otexample>
    </section>
  </section>
  <!--======================================================================-->
  <section role="fragment">
    <title>Example 4: JstfMax Table</title>
    <!--____________________________________________________________________-->
    <section role="specification">
      <title>Specification</title>
      <para>The JstfMax table in Example 4 defines a lookup to
          expand the advance width of the word space glyph and extend
          line lengths. The lookup definition is identical to the
          SinglePos lookup type in the <ottable>GPOS</ottable> table
          although it is enabled only when justifying text. The
          ValueRecord in the WordSpaceExpand lookup subtable specifies
          an XAdvance adjustment of 360 units, which is the maximum
          value the font developer recommends for acceptable text
          rendering. The text-processing client may implement the
          lookup using any value between zero and the maximum.</para>
      <otexample>
        <title>Example 4</title>
        <otexline>
          <otexdata/>
          <otexsrc>JstfMax</otexsrc>
          <otexcom/>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>WordSpaceExpandMax</otexsrc>
          <otexcom>JstfMax table
                  definition</otexcom>
        </otexline>
        <otexline>
          <otexdata>0001</otexdata>
          <otexsrc>1</otexsrc>
          <otexcom>LookupCount</otexcom>
        </otexline>
        <otexline>
          <otexdata>0004</otexdata>
          <otexsrc>WordSpaceExpandLookup</otexsrc>
          <otexcom>offset to Jstf Lookup[0] tabl</otexcom>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>Lookup</otexsrc>
          <otexcom/>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>WordSpaceExpandLookup</otexsrc>
          <otexcom>Jstf Lookup table
                  definition</otexcom>
        </otexline>
        <otexline>
          <otexdata>0001</otexdata>
          <otexsrc>1</otexsrc>
          <otexcom>LookupType, SinglePos Lookup</otexcom>
        </otexline>
        <otexline>
          <otexdata>0000</otexdata>
          <otexsrc>0x0000</otexsrc>
          <otexcom>LookupFlag</otexcom>
        </otexline>
        <otexline>
          <otexdata>0001</otexdata>
          <otexsrc>1</otexsrc>
          <otexcom>SubTableCount</otexcom>
        </otexline>
        <otexline>
          <otexdata>0008</otexdata>
          <otexsrc>WordSpaceExpandSubtable</otexsrc>
          <otexcom>offset to Subtable[0], SinglePos
                  subtabl</otexcom>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>SinglePosFormat1</otexsrc>
          <otexcom/>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>WordSpaceExpandSubtable</otexsrc>
          <otexcom>SinglePos subtable
                  definition</otexcom>
        </otexline>
        <otexline>
          <otexdata>0001</otexdata>
          <otexsrc>1</otexsrc>
          <otexcom>PosFormat</otexcom>
        </otexline>
        <otexline>
          <otexdata>0008</otexdata>
          <otexsrc>WordSpaceCoverage</otexsrc>
          <otexcom>offset to Coverage table</otexcom>
        </otexline>
        <otexline>
          <otexdata>0004</otexdata>
          <otexsrc>0x0004</otexsrc>
          <otexcom>ValueFormat, XAdvance only</otexcom>
        </otexline>
        <otexline>
          <otexdata>0168</otexdata>
          <otexsrc>360</otexsrc>
          <otexcom>Value XAdvance value in Jstf, this is a max
                  value, expand word space from zero to this
                  amoun</otexcom>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>CoverageFormat1</otexsrc>
          <otexcom/>
        </otexline>
        <otexline>
          <otexdata/>
          <otexsrc>WordSpaceCoverage</otexsrc>
          <otexcom>Coverage table
                  definition</otexcom>
        </otexline>
        <otexline>
          <otexdata>0001</otexdata>
          <otexsrc>1</otexsrc>
          <otexcom>CoverageFormat</otexcom>
        </otexline>
        <otexline>
          <otexdata>0001</otexdata>
          <otexsrc>1</otexsrc>
          <otexcom>GlyphCount</otexcom>
        </otexline>
        <otexline>
          <otexdata>0022</otexdata>
          <otexsrc>WordSpaceGlyphID</otexsrc>
          <otexcom>GlyphArray[0]</otexcom>
        </otexline>
      </otexample>
    </section>
  </section>
</section>
