<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<section role="compiler">
      <title>Compiler</title>
      <code-fragment id="cmap.methods"><code-title>Method to compile a format 0 cmap</code-title>
  private Block format0FromXML (Element t, int language)
      throws InvalidFontException, UnsupportedFontException {

    NodeList children = t.getChildNodes ();
    int m[] = new int [256];

    for (int i = 0; i &lt; children.getLength (); i++) {
      Element map = (Element) children.item (i);

        int charcode = Integer.decode (map.getAttribute ("code")).intValue ();
        int glyphid = Integer.decode (map.getAttribute ("glyph")).intValue ();

        if (charcode &gt;= 256) {
          warning ("charcode too big in cmap format 0"); }

        m [charcode] = glyphid; }

    Block b = new Block (262, 0);
    b.setuint16 (0, 0);
    b.setuint16 (2, 262);
    b.setuint16 (4, language);
    int offset = 6;
    for (int i = 0; i &lt;= 255; i++) {
      b.setuint8 (offset, m[i]);
      offset += 1; }

    return b;
  }
</code-fragment>
    </section>
    
